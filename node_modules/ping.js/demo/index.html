<!DOCTYPE html>
<html>
	<head>
		<title>Ping.JS Demo</title>

    <style>
      ul span {
        color: green;
      }
    </style>
	</head>
	<body>
    <script src="../src/ping.js" type="text/javascript"></script>

    <h2>Callback</h2>
    <ul>
      <li>google.com <span id="ping-google"></span></li>
      <li>guildbit.com <span id="ping-guildbit"></span></li>
      <li>sf.guildbit.com <span id="ping-guildbit-sf"></span></li>
      <li>ny.guildbit.com <span id="ping-guildbit-ny"></span></li>
      <li>am.guildbit.com <span id="ping-guildbit-am"></span></li>
    </ul>

    <h2>Promise</h2>
    <ul>
      <li>facebook.com <span id="ping-facebook"></span></li>
      <li>reddit.com <span id="ping-reddit"></span></li>
      <li>linkedin.com <span id="ping-linkedin"></span></li>
    </ul>

    <script src="https://gist.github.com/alfg/c44d8b061972879c9121.js"></script>

    <script>
      var settings = {
        timeout: 2000, // Optional.
        logError: true // Optional.
      }
      var p = new Ping(settings);

      p.ping("http://google.com", function(err, data) {
        // Also display error if err is returned.
        if (err) {
          console.log("error loading resource")
          data = data + " " + err;
        }
        document.getElementById("ping-google").innerHTML = data;
      });

      p.ping("http://guildbit.com", function(err, data) {
        if (err) {
          console.log("error loading resource")
          data = data + " " + err;
        }
        document.getElementById("ping-guildbit").innerHTML = data;
      });

      p.ping("http://sf.guildbit.com", function(err, data) {
        if (err) {
          console.log("error loading resource")
          data = data + " " + err;
        }
        document.getElementById("ping-guildbit-sf").innerHTML = data;
      });

      p.ping("http://ny.guildbit.com", function(err, data) {
        if (err) {
          console.log("error loading resource")
          data = data + " " + err;
        }
        document.getElementById("ping-guildbit-ny").innerHTML = data;
      });

      p.ping("http://am.guildbit.com", function(err, data) {
        if (err) {
          console.log("error loading resource")
          data = data + " " + err;
        }
        document.getElementById("ping-guildbit-am").innerHTML = data;
      });

      p.ping("http://facebook.com")
        .then(function(data) {
          document.getElementById("ping-facebook").innerHTML = data;
        })
        .catch(function(data) {
          document.getElementById("ping-facebook").innerHTML = data + " error";
        })

      p.ping("http://reddit.com")
        .then(function(data) {
          document.getElementById("ping-reddit").innerHTML = data;
        })
        .catch(function(data) {
          document.getElementById("ping-reddit").innerHTML = data + " error";
        })

      p.ping("http://linkedin.com")
        .then(function(data) {
          document.getElementById("ping-linkedin").innerHTML = data;
        })
        .catch(function(data) {
          document.getElementById("ping-linkedin").innerHTML = data + " error";
        })

    </script>
	</body>
</html>
